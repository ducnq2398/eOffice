{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\skytu\\\\OneDrive\\\\Desktop\\\\EOfficeWeb\\\\src\\\\components\\\\AdminLogin\\\\AdminLogin.js\",\n    _s = $RefreshSig$();\n\nimport logo from './../../images/logo.png';\nimport './../../css/AdminLogin.css';\nimport React, { useState } from 'react';\nimport { setAdminSession } from '../../utils/Common';\nimport axios from 'axios';\nimport queryString from 'query-string';\nimport { Alert, Button, Container, Form, FormGroup, Input } from 'reactstrap';\nimport loginAPI from '../../api/loginAPI';\nimport axiosClient from '../../api/axiosClient';\n\nfunction AdminLogin(props) {\n  _s();\n\n  const [adminLogin, setAdminLogin] = useState({\n    username: '',\n    password: ''\n  });\n  const [submit, setSubmit] = useState(false);\n\n  function handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setAdminLogin({ ...adminLogin,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const params = {\n      username: adminLogin.username,\n      password: adminLogin.password\n    }; // loginAPI.loginAdmin(params).then(function(res){\n    //     if(res.status==='400'){\n    //         setSubmit(true);\n    //     }else{\n    //         setUserSession(res.data.token, res.data);\n    //         props.history.push('/admin-manager');\n    //     }\n    // }).catch(function(error){\n    //     console.log(error);\n    // })\n\n    axios.post('https://datnxeoffice.azurewebsites.net/api/Admins/login', params).then(function (res) {\n      setAdminSession(res.data.token);\n      props.history.push('/admin-manager');\n    }).catch(function (error) {\n      setSubmit(true);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"form-admin\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          onChange: handleChange,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          onChange: handleChange,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"danger\",\n          isOpen: submit,\n          children: \"Incorrect username or password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"primary\",\n          block: true,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }, this);\n}\n\n_s(AdminLogin, \"9Ze+6su981DolFpKnQN/yJj1xso=\");\n\n_c = AdminLogin;\nexport default AdminLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"sources":["C:/Users/skytu/OneDrive/Desktop/EOfficeWeb/src/components/AdminLogin/AdminLogin.js"],"names":["logo","React","useState","setAdminSession","axios","queryString","Alert","Button","Container","Form","FormGroup","Input","loginAPI","axiosClient","AdminLogin","props","adminLogin","setAdminLogin","username","password","submit","setSubmit","handleChange","event","target","name","value","handleSubmit","e","preventDefault","params","post","then","res","data","token","history","push","catch","error"],"mappings":"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","sourcesContent":["import logo from './../../images/logo.png';\r\nimport './../../css/AdminLogin.css';\r\nimport React, {useState } from 'react';\r\nimport { setAdminSession} from '../../utils/Common';\r\nimport axios from 'axios';\r\nimport queryString from 'query-string';\r\nimport {Alert, Button, Container, Form, FormGroup, Input} from 'reactstrap';\r\nimport loginAPI from '../../api/loginAPI';\r\nimport axiosClient from '../../api/axiosClient';\r\n\r\nfunction AdminLogin(props){\r\n        const [adminLogin, setAdminLogin] = useState({\r\n            username: '',\r\n            password: '',\r\n        })\r\n        const [submit, setSubmit] = useState(false);\r\n\r\n        function handleChange(event){\r\n            const target = event.target;\r\n            const name = target.name;\r\n            const value = target.value;\r\n            setAdminLogin({\r\n                ... adminLogin,\r\n                [name] : value,\r\n            })\r\n        }\r\n        function handleSubmit(e){\r\n            e.preventDefault();\r\n            const params = {\r\n                username: adminLogin.username,\r\n                password: adminLogin.password,\r\n            }\r\n            \r\n            // loginAPI.loginAdmin(params).then(function(res){\r\n            //     if(res.status==='400'){\r\n            //         setSubmit(true);\r\n            //     }else{\r\n            //         setUserSession(res.data.token, res.data);\r\n            //         props.history.push('/admin-manager');\r\n            //     }\r\n            // }).catch(function(error){\r\n            //     console.log(error);\r\n            // })\r\n        \r\n            axios.post('https://datnxeoffice.azurewebsites.net/api/Admins/login',params).then(function(res){\r\n                    setAdminSession(res.data.token);\r\n                    props.history.push('/admin-manager');\r\n                }).catch(function(error){\r\n                    setSubmit(true)\r\n            })\r\n        }\r\n        \r\n        return (\r\n            <Container fluid={true}>\r\n                <Form className=\"form-admin\" onSubmit={handleSubmit}>\r\n                    <FormGroup>\r\n                        <img src={logo} alt=\"\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Input type=\"text\" name=\"username\" required onChange={handleChange} placeholder=\"Username\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Input type=\"password\" name=\"password\" required onChange={handleChange} placeholder=\"Password\"/>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Alert color=\"danger\" isOpen={submit}>Incorrect username or password</Alert>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Button type=\"submit\" color=\"primary\" block>Login</Button>\r\n                    </FormGroup>\r\n                </Form>\r\n            </Container>\r\n        );\r\n    }\r\n\r\nexport default AdminLogin;"]},"metadata":{},"sourceType":"module"}