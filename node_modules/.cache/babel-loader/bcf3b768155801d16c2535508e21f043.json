{"ast":null,"code":"/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  throw new Error(\"Not implemented: dispatchDOMEvent\");\n}\n\nclass EventBus {\n  constructor(options) {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}","map":{"version":3,"sources":["/Users/macos/Desktop/EOfficeWeb/node_modules/pdfjs-dist/lib/web/ui_utils.js"],"names":["Object","defineProperty","exports","value","isValidRotation","isValidScrollMode","isValidSpreadMode","isPortraitOrientation","clamp","getPDFFileNameFromURL","noContextMenuHandler","parseQueryString","backtrackBeforeAllVisibleElements","getVisibleElements","roundToDivide","getPageSizeInches","approximateFraction","getOutputScale","scrollIntoView","watchScroll","binarySearchFirstItem","normalizeWheelEventDelta","waitOnEventOrTimeout","moveToEndOfArray","WaitOnType","animationStarted","ProgressBar","EventBus","NullL10n","SpreadMode","ScrollMode","TextLayerMode","RendererType","PresentationModeState","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","MAX_SCALE","MIN_SCALE","DEFAULT_SCALE","DEFAULT_SCALE_VALUE","CSS_UNITS","AutoPrintRegExp","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","NONE","ODD","EVEN","formatL10nValue","text","args","replace","all","name","getLanguage","getDirection","get","property","fallback","translate","element","ctx","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","sx","sy","scaled","spot","skipOverflowHiddenElements","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","dataset","_scaleY","_scaleX","top","undefined","left","scrollLeft","scrollTop","viewAreaElement","callback","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","query","parts","split","params","create","i","ii","length","param","key","toLowerCase","decodeURIComponent","items","condition","minIndex","maxIndex","currentIndex","currentItem","x","Math","floor","xinv","limit","x_","a","b","c","d","p","q","result","div","r","round","view","userUnit","rotate","x1","y1","x2","y2","changeOrientation","width","height","index","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","bottom","isElementBottomAfterViewTop","elementBottom","isElementRightAfterViewLeft","elementRight","visible","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","percent","push","id","y","first","last","sort","pc","abs","preventDefault","isDataSchema","url","trim","substring","defaultFilename","warn","reURI","reFilename","splitURI","exec","suggestedFilename","includes","ex","delta","sqrt","deltaX","deltaY","angle","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","Number","isInteger","mode","values","size","EVENT","TIMEOUT","target","delay","Promise","resolve","reject","Error","handler","type","_off","eventHandler","removeEventListener","timeout","clearTimeout","bind","_on","timeoutHandler","setTimeout","dispatchDOMEvent","eventName","constructor","options","_listeners","on","listener","external","off","dispatch","eventListeners","Array","prototype","slice","call","arguments","externalListeners","forEach","apply","splice","v","min","units","document","querySelector","bar","parentNode","style","_updateBar","_indeterminate","classList","add","remove","progressSize","_percent","val","isNaN","setWidth","viewer","container","scrollbarWidth","offsetWidth","hide","body","show","arr","moved","len","write","read"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,eAAR,GAA0BA,eAA1B;AACAF,OAAO,CAACG,iBAAR,GAA4BA,iBAA5B;AACAH,OAAO,CAACI,iBAAR,GAA4BA,iBAA5B;AACAJ,OAAO,CAACK,qBAAR,GAAgCA,qBAAhC;AACAL,OAAO,CAACM,KAAR,GAAgBA,KAAhB;AACAN,OAAO,CAACO,qBAAR,GAAgCA,qBAAhC;AACAP,OAAO,CAACQ,oBAAR,GAA+BA,oBAA/B;AACAR,OAAO,CAACS,gBAAR,GAA2BA,gBAA3B;AACAT,OAAO,CAACU,iCAAR,GAA4CA,iCAA5C;AACAV,OAAO,CAACW,kBAAR,GAA6BA,kBAA7B;AACAX,OAAO,CAACY,aAAR,GAAwBA,aAAxB;AACAZ,OAAO,CAACa,iBAAR,GAA4BA,iBAA5B;AACAb,OAAO,CAACc,mBAAR,GAA8BA,mBAA9B;AACAd,OAAO,CAACe,cAAR,GAAyBA,cAAzB;AACAf,OAAO,CAACgB,cAAR,GAAyBA,cAAzB;AACAhB,OAAO,CAACiB,WAAR,GAAsBA,WAAtB;AACAjB,OAAO,CAACkB,qBAAR,GAAgCA,qBAAhC;AACAlB,OAAO,CAACmB,wBAAR,GAAmCA,wBAAnC;AACAnB,OAAO,CAACoB,oBAAR,GAA+BA,oBAA/B;AACApB,OAAO,CAACqB,gBAAR,GAA2BA,gBAA3B;AACArB,OAAO,CAACsB,UAAR,GAAqBtB,OAAO,CAACuB,gBAAR,GAA2BvB,OAAO,CAACwB,WAAR,GAAsBxB,OAAO,CAACyB,QAAR,GAAmBzB,OAAO,CAAC0B,QAAR,GAAmB1B,OAAO,CAAC2B,UAAR,GAAqB3B,OAAO,CAAC4B,UAAR,GAAqB5B,OAAO,CAAC6B,aAAR,GAAwB7B,OAAO,CAAC8B,YAAR,GAAuB9B,OAAO,CAAC+B,qBAAR,GAAgC/B,OAAO,CAACgC,gBAAR,GAA2BhC,OAAO,CAACiC,iBAAR,GAA4BjC,OAAO,CAACkC,cAAR,GAAyBlC,OAAO,CAACmC,aAAR,GAAwBnC,OAAO,CAACoC,SAAR,GAAoBpC,OAAO,CAACqC,SAAR,GAAoBrC,OAAO,CAACsC,aAAR,GAAwBtC,OAAO,CAACuC,mBAAR,GAA8BvC,OAAO,CAACwC,SAAR,GAAoBxC,OAAO,CAACyC,eAAR,GAA0B,KAAK,CAA9d;AACA,MAAMD,SAAS,GAAG,OAAO,IAAzB;AACAxC,OAAO,CAACwC,SAAR,GAAoBA,SAApB;AACA,MAAMD,mBAAmB,GAAG,MAA5B;AACAvC,OAAO,CAACuC,mBAAR,GAA8BA,mBAA9B;AACA,MAAMD,aAAa,GAAG,GAAtB;AACAtC,OAAO,CAACsC,aAAR,GAAwBA,aAAxB;AACA,MAAMD,SAAS,GAAG,GAAlB;AACArC,OAAO,CAACqC,SAAR,GAAoBA,SAApB;AACA,MAAMD,SAAS,GAAG,IAAlB;AACApC,OAAO,CAACoC,SAAR,GAAoBA,SAApB;AACA,MAAMD,aAAa,GAAG,CAAtB;AACAnC,OAAO,CAACmC,aAAR,GAAwBA,aAAxB;AACA,MAAMD,cAAc,GAAG,IAAvB;AACAlC,OAAO,CAACkC,cAAR,GAAyBA,cAAzB;AACA,MAAMD,iBAAiB,GAAG,EAA1B;AACAjC,OAAO,CAACiC,iBAAR,GAA4BA,iBAA5B;AACA,MAAMD,gBAAgB,GAAG,CAAzB;AACAhC,OAAO,CAACgC,gBAAR,GAA2BA,gBAA3B;AACA,MAAMD,qBAAqB,GAAG;AAC5BW,EAAAA,OAAO,EAAE,CADmB;AAE5BC,EAAAA,MAAM,EAAE,CAFoB;AAG5BC,EAAAA,QAAQ,EAAE,CAHkB;AAI5BC,EAAAA,UAAU,EAAE;AAJgB,CAA9B;AAMA7C,OAAO,CAAC+B,qBAAR,GAAgCA,qBAAhC;AACA,MAAMD,YAAY,GAAG;AACnBgB,EAAAA,MAAM,EAAE,QADW;AAEnBC,EAAAA,GAAG,EAAE;AAFc,CAArB;AAIA/C,OAAO,CAAC8B,YAAR,GAAuBA,YAAvB;AACA,MAAMD,aAAa,GAAG;AACpBmB,EAAAA,OAAO,EAAE,CADW;AAEpBC,EAAAA,MAAM,EAAE,CAFY;AAGpBC,EAAAA,cAAc,EAAE;AAHI,CAAtB;AAKAlD,OAAO,CAAC6B,aAAR,GAAwBA,aAAxB;AACA,MAAMD,UAAU,GAAG;AACjBc,EAAAA,OAAO,EAAE,CAAC,CADO;AAEjBS,EAAAA,QAAQ,EAAE,CAFO;AAGjBC,EAAAA,UAAU,EAAE,CAHK;AAIjBC,EAAAA,OAAO,EAAE;AAJQ,CAAnB;AAMArD,OAAO,CAAC4B,UAAR,GAAqBA,UAArB;AACA,MAAMD,UAAU,GAAG;AACjBe,EAAAA,OAAO,EAAE,CAAC,CADO;AAEjBY,EAAAA,IAAI,EAAE,CAFW;AAGjBC,EAAAA,GAAG,EAAE,CAHY;AAIjBC,EAAAA,IAAI,EAAE;AAJW,CAAnB;AAMAxD,OAAO,CAAC2B,UAAR,GAAqBA,UAArB;AACA,MAAMc,eAAe,GAAG,cAAxB;AACAzC,OAAO,CAACyC,eAAR,GAA0BA,eAA1B;;AAEA,SAASgB,eAAT,CAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;AACnC,MAAI,CAACA,IAAL,EAAW;AACT,WAAOD,IAAP;AACD;;AAED,SAAOA,IAAI,CAACE,OAAL,CAAa,sBAAb,EAAqC,CAACC,GAAD,EAAMC,IAAN,KAAe;AACzD,WAAOA,IAAI,IAAIH,IAAR,GAAeA,IAAI,CAACG,IAAD,CAAnB,GAA4B,OAAOA,IAAP,GAAc,IAAjD;AACD,GAFM,CAAP;AAGD;;AAED,MAAMpC,QAAQ,GAAG;AACf,QAAMqC,WAAN,GAAoB;AAClB,WAAO,OAAP;AACD,GAHc;;AAKf,QAAMC,YAAN,GAAqB;AACnB,WAAO,KAAP;AACD,GAPc;;AASf,QAAMC,GAAN,CAAUC,QAAV,EAAoBP,IAApB,EAA0BQ,QAA1B,EAAoC;AAClC,WAAOV,eAAe,CAACU,QAAD,EAAWR,IAAX,CAAtB;AACD,GAXc;;AAaf,QAAMS,SAAN,CAAgBC,OAAhB,EAAyB,CAAE;;AAbZ,CAAjB;AAgBArE,OAAO,CAAC0B,QAAR,GAAmBA,QAAnB;;AAEA,SAASX,cAAT,CAAwBuD,GAAxB,EAA6B;AAC3B,QAAMC,gBAAgB,GAAGC,MAAM,CAACD,gBAAP,IAA2B,CAApD;AACA,QAAME,iBAAiB,GAAGH,GAAG,CAACI,4BAAJ,IAAoCJ,GAAG,CAACK,yBAAxC,IAAqEL,GAAG,CAACM,wBAAzE,IAAqGN,GAAG,CAACO,uBAAzG,IAAoIP,GAAG,CAACQ,sBAAxI,IAAkK,CAA5L;AACA,QAAMC,UAAU,GAAGR,gBAAgB,GAAGE,iBAAtC;AACA,SAAO;AACLO,IAAAA,EAAE,EAAED,UADC;AAELE,IAAAA,EAAE,EAAEF,UAFC;AAGLG,IAAAA,MAAM,EAAEH,UAAU,KAAK;AAHlB,GAAP;AAKD;;AAED,SAAS/D,cAAT,CAAwBqD,OAAxB,EAAiCc,IAAjC,EAAuCC,0BAA0B,GAAG,KAApE,EAA2E;AACzE,MAAIC,MAAM,GAAGhB,OAAO,CAACiB,YAArB;;AAEA,MAAI,CAACD,MAAL,EAAa;AACXE,IAAAA,OAAO,CAACC,KAAR,CAAc,0CAAd;AACA;AACD;;AAED,MAAIC,OAAO,GAAGpB,OAAO,CAACqB,SAAR,GAAoBrB,OAAO,CAACsB,SAA1C;AACA,MAAIC,OAAO,GAAGvB,OAAO,CAACwB,UAAR,GAAqBxB,OAAO,CAACyB,UAA3C;;AAEA,SAAOT,MAAM,CAACU,YAAP,KAAwBV,MAAM,CAACW,YAA/B,IAA+CX,MAAM,CAACY,WAAP,KAAuBZ,MAAM,CAACa,WAA7E,IAA4Fd,0BAA0B,IAAIe,gBAAgB,CAACd,MAAD,CAAhB,CAAyBe,QAAzB,KAAsC,QAAvK,EAAiL;AAC/K,QAAIf,MAAM,CAACgB,OAAP,CAAeC,OAAnB,EAA4B;AAC1Bb,MAAAA,OAAO,IAAIJ,MAAM,CAACgB,OAAP,CAAeC,OAA1B;AACAV,MAAAA,OAAO,IAAIP,MAAM,CAACgB,OAAP,CAAeE,OAA1B;AACD;;AAEDd,IAAAA,OAAO,IAAIJ,MAAM,CAACK,SAAlB;AACAE,IAAAA,OAAO,IAAIP,MAAM,CAACQ,UAAlB;AACAR,IAAAA,MAAM,GAAGA,MAAM,CAACC,YAAhB;;AAEA,QAAI,CAACD,MAAL,EAAa;AACX;AACD;AACF;;AAED,MAAIF,IAAJ,EAAU;AACR,QAAIA,IAAI,CAACqB,GAAL,KAAaC,SAAjB,EAA4B;AAC1BhB,MAAAA,OAAO,IAAIN,IAAI,CAACqB,GAAhB;AACD;;AAED,QAAIrB,IAAI,CAACuB,IAAL,KAAcD,SAAlB,EAA6B;AAC3Bb,MAAAA,OAAO,IAAIT,IAAI,CAACuB,IAAhB;AACArB,MAAAA,MAAM,CAACsB,UAAP,GAAoBf,OAApB;AACD;AACF;;AAEDP,EAAAA,MAAM,CAACuB,SAAP,GAAmBnB,OAAnB;AACD;;AAED,SAASxE,WAAT,CAAqB4F,eAArB,EAAsCC,QAAtC,EAAgD;AAC9C,QAAMC,cAAc,GAAG,UAAUC,GAAV,EAAe;AACpC,QAAIC,GAAJ,EAAS;AACP;AACD;;AAEDA,IAAAA,GAAG,GAAGzC,MAAM,CAAC0C,qBAAP,CAA6B,SAASC,uBAAT,GAAmC;AACpEF,MAAAA,GAAG,GAAG,IAAN;AACA,YAAMG,QAAQ,GAAGP,eAAe,CAACF,UAAjC;AACA,YAAMU,KAAK,GAAGC,KAAK,CAACD,KAApB;;AAEA,UAAID,QAAQ,KAAKC,KAAjB,EAAwB;AACtBC,QAAAA,KAAK,CAACC,KAAN,GAAcH,QAAQ,GAAGC,KAAzB;AACD;;AAEDC,MAAAA,KAAK,CAACD,KAAN,GAAcD,QAAd;AACA,YAAMI,QAAQ,GAAGX,eAAe,CAACD,SAAjC;AACA,YAAMa,KAAK,GAAGH,KAAK,CAACG,KAApB;;AAEA,UAAID,QAAQ,KAAKC,KAAjB,EAAwB;AACtBH,QAAAA,KAAK,CAACI,IAAN,GAAaF,QAAQ,GAAGC,KAAxB;AACD;;AAEDH,MAAAA,KAAK,CAACG,KAAN,GAAcD,QAAd;AACAV,MAAAA,QAAQ,CAACQ,KAAD,CAAR;AACD,KAnBK,CAAN;AAoBD,GAzBD;;AA2BA,QAAMA,KAAK,GAAG;AACZC,IAAAA,KAAK,EAAE,IADK;AAEZG,IAAAA,IAAI,EAAE,IAFM;AAGZL,IAAAA,KAAK,EAAER,eAAe,CAACF,UAHX;AAIZc,IAAAA,KAAK,EAAEZ,eAAe,CAACD,SAJX;AAKZe,IAAAA,aAAa,EAAEZ;AALH,GAAd;AAOA,MAAIE,GAAG,GAAG,IAAV;AACAJ,EAAAA,eAAe,CAACe,gBAAhB,CAAiC,QAAjC,EAA2Cb,cAA3C,EAA2D,IAA3D;AACA,SAAOO,KAAP;AACD;;AAED,SAAS7G,gBAAT,CAA0BoH,KAA1B,EAAiC;AAC/B,QAAMC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAd;AACA,QAAMC,MAAM,GAAGlI,MAAM,CAACmI,MAAP,CAAc,IAAd,CAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGL,KAAK,CAACM,MAA3B,EAAmCF,CAAC,GAAGC,EAAvC,EAA2C,EAAED,CAA7C,EAAgD;AAC9C,UAAMG,KAAK,GAAGP,KAAK,CAACI,CAAD,CAAL,CAASH,KAAT,CAAe,GAAf,CAAd;AACA,UAAMO,GAAG,GAAGD,KAAK,CAAC,CAAD,CAAL,CAASE,WAAT,EAAZ;AACA,UAAMtI,KAAK,GAAGoI,KAAK,CAACD,MAAN,GAAe,CAAf,GAAmBC,KAAK,CAAC,CAAD,CAAxB,GAA8B,IAA5C;AACAL,IAAAA,MAAM,CAACQ,kBAAkB,CAACF,GAAD,CAAnB,CAAN,GAAkCE,kBAAkB,CAACvI,KAAD,CAApD;AACD;;AAED,SAAO+H,MAAP;AACD;;AAED,SAAS9G,qBAAT,CAA+BuH,KAA/B,EAAsCC,SAAtC,EAAiD;AAC/C,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,QAAQ,GAAGH,KAAK,CAACL,MAAN,GAAe,CAA9B;;AAEA,MAAIQ,QAAQ,GAAG,CAAX,IAAgB,CAACF,SAAS,CAACD,KAAK,CAACG,QAAD,CAAN,CAA9B,EAAiD;AAC/C,WAAOH,KAAK,CAACL,MAAb;AACD;;AAED,MAAIM,SAAS,CAACD,KAAK,CAACE,QAAD,CAAN,CAAb,EAAgC;AAC9B,WAAOA,QAAP;AACD;;AAED,SAAOA,QAAQ,GAAGC,QAAlB,EAA4B;AAC1B,UAAMC,YAAY,GAAGF,QAAQ,GAAGC,QAAX,IAAuB,CAA5C;AACA,UAAME,WAAW,GAAGL,KAAK,CAACI,YAAD,CAAzB;;AAEA,QAAIH,SAAS,CAACI,WAAD,CAAb,EAA4B;AAC1BF,MAAAA,QAAQ,GAAGC,YAAX;AACD,KAFD,MAEO;AACLF,MAAAA,QAAQ,GAAGE,YAAY,GAAG,CAA1B;AACD;AACF;;AAED,SAAOF,QAAP;AACD;;AAED,SAAS7H,mBAAT,CAA6BiI,CAA7B,EAAgC;AAC9B,MAAIC,IAAI,CAACC,KAAL,CAAWF,CAAX,MAAkBA,CAAtB,EAAyB;AACvB,WAAO,CAACA,CAAD,EAAI,CAAJ,CAAP;AACD;;AAED,QAAMG,IAAI,GAAG,IAAIH,CAAjB;AACA,QAAMI,KAAK,GAAG,CAAd;;AAEA,MAAID,IAAI,GAAGC,KAAX,EAAkB;AAChB,WAAO,CAAC,CAAD,EAAIA,KAAJ,CAAP;AACD,GAFD,MAEO,IAAIH,IAAI,CAACC,KAAL,CAAWC,IAAX,MAAqBA,IAAzB,EAA+B;AACpC,WAAO,CAAC,CAAD,EAAIA,IAAJ,CAAP;AACD;;AAED,QAAME,EAAE,GAAGL,CAAC,GAAG,CAAJ,GAAQG,IAAR,GAAeH,CAA1B;AACA,MAAIM,CAAC,GAAG,CAAR;AAAA,MACIC,CAAC,GAAG,CADR;AAAA,MAEIC,CAAC,GAAG,CAFR;AAAA,MAGIC,CAAC,GAAG,CAHR;;AAKA,SAAO,IAAP,EAAa;AACX,UAAMC,CAAC,GAAGJ,CAAC,GAAGE,CAAd;AAAA,UACMG,CAAC,GAAGJ,CAAC,GAAGE,CADd;;AAGA,QAAIE,CAAC,GAAGP,KAAR,EAAe;AACb;AACD;;AAED,QAAIC,EAAE,IAAIK,CAAC,GAAGC,CAAd,EAAiB;AACfH,MAAAA,CAAC,GAAGE,CAAJ;AACAD,MAAAA,CAAC,GAAGE,CAAJ;AACD,KAHD,MAGO;AACLL,MAAAA,CAAC,GAAGI,CAAJ;AACAH,MAAAA,CAAC,GAAGI,CAAJ;AACD;AACF;;AAED,MAAIC,MAAJ;;AAEA,MAAIP,EAAE,GAAGC,CAAC,GAAGC,CAAT,GAAaC,CAAC,GAAGC,CAAJ,GAAQJ,EAAzB,EAA6B;AAC3BO,IAAAA,MAAM,GAAGP,EAAE,KAAKL,CAAP,GAAW,CAACM,CAAD,EAAIC,CAAJ,CAAX,GAAoB,CAACA,CAAD,EAAID,CAAJ,CAA7B;AACD,GAFD,MAEO;AACLM,IAAAA,MAAM,GAAGP,EAAE,KAAKL,CAAP,GAAW,CAACQ,CAAD,EAAIC,CAAJ,CAAX,GAAoB,CAACA,CAAD,EAAID,CAAJ,CAA7B;AACD;;AAED,SAAOI,MAAP;AACD;;AAED,SAAS/I,aAAT,CAAuBmI,CAAvB,EAA0Ba,GAA1B,EAA+B;AAC7B,QAAMC,CAAC,GAAGd,CAAC,GAAGa,GAAd;AACA,SAAOC,CAAC,KAAK,CAAN,GAAUd,CAAV,GAAcC,IAAI,CAACc,KAAL,CAAWf,CAAC,GAAGc,CAAJ,GAAQD,GAAnB,CAArB;AACD;;AAED,SAAS/I,iBAAT,CAA2B;AACzBkJ,EAAAA,IADyB;AAEzBC,EAAAA,QAFyB;AAGzBC,EAAAA;AAHyB,CAA3B,EAIG;AACD,QAAM,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAaC,EAAb,IAAmBN,IAAzB;AACA,QAAMO,iBAAiB,GAAGL,MAAM,GAAG,GAAT,KAAiB,CAA3C;AACA,QAAMM,KAAK,GAAG,CAACH,EAAE,GAAGF,EAAN,IAAY,EAAZ,GAAiBF,QAA/B;AACA,QAAMQ,MAAM,GAAG,CAACH,EAAE,GAAGF,EAAN,IAAY,EAAZ,GAAiBH,QAAhC;AACA,SAAO;AACLO,IAAAA,KAAK,EAAED,iBAAiB,GAAGE,MAAH,GAAYD,KAD/B;AAELC,IAAAA,MAAM,EAAEF,iBAAiB,GAAGC,KAAH,GAAWC;AAF/B,GAAP;AAID;;AAED,SAAS9J,iCAAT,CAA2C+J,KAA3C,EAAkDC,KAAlD,EAAyDlE,GAAzD,EAA8D;AAC5D,MAAIiE,KAAK,GAAG,CAAZ,EAAe;AACb,WAAOA,KAAP;AACD;;AAED,MAAIE,GAAG,GAAGD,KAAK,CAACD,KAAD,CAAL,CAAab,GAAvB;AACA,MAAIgB,OAAO,GAAGD,GAAG,CAACjF,SAAJ,GAAgBiF,GAAG,CAAChF,SAAlC;;AAEA,MAAIiF,OAAO,IAAIpE,GAAf,EAAoB;AAClBmE,IAAAA,GAAG,GAAGD,KAAK,CAACD,KAAK,GAAG,CAAT,CAAL,CAAiBb,GAAvB;AACAgB,IAAAA,OAAO,GAAGD,GAAG,CAACjF,SAAJ,GAAgBiF,GAAG,CAAChF,SAA9B;AACD;;AAED,OAAK,IAAIuC,CAAC,GAAGuC,KAAK,GAAG,CAArB,EAAwBvC,CAAC,IAAI,CAA7B,EAAgC,EAAEA,CAAlC,EAAqC;AACnCyC,IAAAA,GAAG,GAAGD,KAAK,CAACxC,CAAD,CAAL,CAAS0B,GAAf;;AAEA,QAAIe,GAAG,CAACjF,SAAJ,GAAgBiF,GAAG,CAAChF,SAApB,GAAgCgF,GAAG,CAAC5E,YAApC,IAAoD6E,OAAxD,EAAiE;AAC/D;AACD;;AAEDH,IAAAA,KAAK,GAAGvC,CAAR;AACD;;AAED,SAAOuC,KAAP;AACD;;AAED,SAAS9J,kBAAT,CAA4BkK,QAA5B,EAAsCH,KAAtC,EAA6CI,gBAAgB,GAAG,KAAhE,EAAuEC,UAAU,GAAG,KAApF,EAA2F;AACzF,QAAMvE,GAAG,GAAGqE,QAAQ,CAACjE,SAArB;AAAA,QACMoE,MAAM,GAAGxE,GAAG,GAAGqE,QAAQ,CAAC9E,YAD9B;AAEA,QAAMW,IAAI,GAAGmE,QAAQ,CAAClE,UAAtB;AAAA,QACMY,KAAK,GAAGb,IAAI,GAAGmE,QAAQ,CAAC5E,WAD9B;;AAGA,WAASgF,2BAAT,CAAqClB,IAArC,EAA2C;AACzC,UAAM1F,OAAO,GAAG0F,IAAI,CAACH,GAArB;AACA,UAAMsB,aAAa,GAAG7G,OAAO,CAACqB,SAAR,GAAoBrB,OAAO,CAACsB,SAA5B,GAAwCtB,OAAO,CAAC0B,YAAtE;AACA,WAAOmF,aAAa,GAAG1E,GAAvB;AACD;;AAED,WAAS2E,2BAAT,CAAqCpB,IAArC,EAA2C;AACzC,UAAM1F,OAAO,GAAG0F,IAAI,CAACH,GAArB;AACA,UAAMwB,YAAY,GAAG/G,OAAO,CAACwB,UAAR,GAAqBxB,OAAO,CAACyB,UAA7B,GAA0CzB,OAAO,CAAC4B,WAAvE;AACA,WAAOmF,YAAY,GAAG1E,IAAtB;AACD;;AAED,QAAM2E,OAAO,GAAG,EAAhB;AAAA,QACMC,QAAQ,GAAGZ,KAAK,CAACtC,MADvB;AAEA,MAAImD,sBAAsB,GAAGD,QAAQ,KAAK,CAAb,GAAiB,CAAjB,GAAqBpK,qBAAqB,CAACwJ,KAAD,EAAQK,UAAU,GAAGI,2BAAH,GAAiCF,2BAAnD,CAAvE;;AAEA,MAAIM,sBAAsB,GAAG,CAAzB,IAA8BA,sBAAsB,GAAGD,QAAvD,IAAmE,CAACP,UAAxE,EAAoF;AAClFQ,IAAAA,sBAAsB,GAAG7K,iCAAiC,CAAC6K,sBAAD,EAAyBb,KAAzB,EAAgClE,GAAhC,CAA1D;AACD;;AAED,MAAIgF,QAAQ,GAAGT,UAAU,GAAGxD,KAAH,GAAW,CAAC,CAArC;;AAEA,OAAK,IAAIW,CAAC,GAAGqD,sBAAb,EAAqCrD,CAAC,GAAGoD,QAAzC,EAAmDpD,CAAC,EAApD,EAAwD;AACtD,UAAM6B,IAAI,GAAGW,KAAK,CAACxC,CAAD,CAAlB;AAAA,UACM7D,OAAO,GAAG0F,IAAI,CAACH,GADrB;AAEA,UAAM6B,YAAY,GAAGpH,OAAO,CAACwB,UAAR,GAAqBxB,OAAO,CAACyB,UAAlD;AACA,UAAM4F,aAAa,GAAGrH,OAAO,CAACqB,SAAR,GAAoBrB,OAAO,CAACsB,SAAlD;AACA,UAAMgG,SAAS,GAAGtH,OAAO,CAAC4B,WAA1B;AAAA,UACM2F,UAAU,GAAGvH,OAAO,CAAC0B,YAD3B;AAEA,UAAM8F,SAAS,GAAGJ,YAAY,GAAGE,SAAjC;AACA,UAAMG,UAAU,GAAGJ,aAAa,GAAGE,UAAnC;;AAEA,QAAIJ,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnB,UAAIM,UAAU,IAAId,MAAlB,EAA0B;AACxBQ,QAAAA,QAAQ,GAAGM,UAAX;AACD;AACF,KAJD,MAIO,IAAI,CAACf,UAAU,GAAGU,YAAH,GAAkBC,aAA7B,IAA8CF,QAAlD,EAA4D;AACjE;AACD;;AAED,QAAIM,UAAU,IAAItF,GAAd,IAAqBkF,aAAa,IAAIV,MAAtC,IAAgDa,SAAS,IAAInF,IAA7D,IAAqE+E,YAAY,IAAIlE,KAAzF,EAAgG;AAC9F;AACD;;AAED,UAAMwE,YAAY,GAAG/C,IAAI,CAACgD,GAAL,CAAS,CAAT,EAAYxF,GAAG,GAAGkF,aAAlB,IAAmC1C,IAAI,CAACgD,GAAL,CAAS,CAAT,EAAYF,UAAU,GAAGd,MAAzB,CAAxD;AACA,UAAMiB,WAAW,GAAGjD,IAAI,CAACgD,GAAL,CAAS,CAAT,EAAYtF,IAAI,GAAG+E,YAAnB,IAAmCzC,IAAI,CAACgD,GAAL,CAAS,CAAT,EAAYH,SAAS,GAAGtE,KAAxB,CAAvD;AACA,UAAM2E,OAAO,GAAG,CAACN,UAAU,GAAGG,YAAd,KAA+BJ,SAAS,GAAGM,WAA3C,IAA0D,GAA1D,GAAgEL,UAAhE,GAA6ED,SAA7E,GAAyF,CAAzG;AACAN,IAAAA,OAAO,CAACc,IAAR,CAAa;AACXC,MAAAA,EAAE,EAAErC,IAAI,CAACqC,EADE;AAEXrD,MAAAA,CAAC,EAAE0C,YAFQ;AAGXY,MAAAA,CAAC,EAAEX,aAHQ;AAIX3B,MAAAA,IAJW;AAKXmC,MAAAA;AALW,KAAb;AAOD;;AAED,QAAMI,KAAK,GAAGjB,OAAO,CAAC,CAAD,CAArB;AAAA,QACMkB,IAAI,GAAGlB,OAAO,CAACA,OAAO,CAACjD,MAAR,GAAiB,CAAlB,CADpB;;AAGA,MAAI0C,gBAAJ,EAAsB;AACpBO,IAAAA,OAAO,CAACmB,IAAR,CAAa,UAAUnD,CAAV,EAAaC,CAAb,EAAgB;AAC3B,YAAMmD,EAAE,GAAGpD,CAAC,CAAC6C,OAAF,GAAY5C,CAAC,CAAC4C,OAAzB;;AAEA,UAAIlD,IAAI,CAAC0D,GAAL,CAASD,EAAT,IAAe,KAAnB,EAA0B;AACxB,eAAO,CAACA,EAAR;AACD;;AAED,aAAOpD,CAAC,CAAC+C,EAAF,GAAO9C,CAAC,CAAC8C,EAAhB;AACD,KARD;AASD;;AAED,SAAO;AACLE,IAAAA,KADK;AAELC,IAAAA,IAFK;AAGL7B,IAAAA,KAAK,EAAEW;AAHF,GAAP;AAKD;;AAED,SAAS7K,oBAAT,CAA8BwG,GAA9B,EAAmC;AACjCA,EAAAA,GAAG,CAAC2F,cAAJ;AACD;;AAED,SAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACzB,MAAI3E,CAAC,GAAG,CAAR;AACA,QAAMC,EAAE,GAAG0E,GAAG,CAACzE,MAAf;;AAEA,SAAOF,CAAC,GAAGC,EAAJ,IAAU0E,GAAG,CAAC3E,CAAD,CAAH,CAAO4E,IAAP,OAAkB,EAAnC,EAAuC;AACrC5E,IAAAA,CAAC;AACF;;AAED,SAAO2E,GAAG,CAACE,SAAJ,CAAc7E,CAAd,EAAiBA,CAAC,GAAG,CAArB,EAAwBK,WAAxB,OAA0C,OAAjD;AACD;;AAED,SAAShI,qBAAT,CAA+BsM,GAA/B,EAAoCG,eAAe,GAAG,cAAtD,EAAsE;AACpE,MAAI,OAAOH,GAAP,KAAe,QAAnB,EAA6B;AAC3B,WAAOG,eAAP;AACD;;AAED,MAAIJ,YAAY,CAACC,GAAD,CAAhB,EAAuB;AACrBtH,IAAAA,OAAO,CAAC0H,IAAR,CAAa,4BAA4B,+CAAzC;AACA,WAAOD,eAAP;AACD;;AAED,QAAME,KAAK,GAAG,sDAAd;AACA,QAAMC,UAAU,GAAG,gCAAnB;AACA,QAAMC,QAAQ,GAAGF,KAAK,CAACG,IAAN,CAAWR,GAAX,CAAjB;AACA,MAAIS,iBAAiB,GAAGH,UAAU,CAACE,IAAX,CAAgBD,QAAQ,CAAC,CAAD,CAAxB,KAAgCD,UAAU,CAACE,IAAX,CAAgBD,QAAQ,CAAC,CAAD,CAAxB,CAAhC,IAAgED,UAAU,CAACE,IAAX,CAAgBD,QAAQ,CAAC,CAAD,CAAxB,CAAxF;;AAEA,MAAIE,iBAAJ,EAAuB;AACrBA,IAAAA,iBAAiB,GAAGA,iBAAiB,CAAC,CAAD,CAArC;;AAEA,QAAIA,iBAAiB,CAACC,QAAlB,CAA2B,GAA3B,CAAJ,EAAqC;AACnC,UAAI;AACFD,QAAAA,iBAAiB,GAAGH,UAAU,CAACE,IAAX,CAAgB7E,kBAAkB,CAAC8E,iBAAD,CAAlC,EAAuD,CAAvD,CAApB;AACD,OAFD,CAEE,OAAOE,EAAP,EAAW,CAAE;AAChB;AACF;;AAED,SAAOF,iBAAiB,IAAIN,eAA5B;AACD;;AAED,SAAS7L,wBAAT,CAAkC6F,GAAlC,EAAuC;AACrC,MAAIyG,KAAK,GAAGzE,IAAI,CAAC0E,IAAL,CAAU1G,GAAG,CAAC2G,MAAJ,GAAa3G,GAAG,CAAC2G,MAAjB,GAA0B3G,GAAG,CAAC4G,MAAJ,GAAa5G,GAAG,CAAC4G,MAArD,CAAZ;AACA,QAAMC,KAAK,GAAG7E,IAAI,CAAC8E,KAAL,CAAW9G,GAAG,CAAC4G,MAAf,EAAuB5G,GAAG,CAAC2G,MAA3B,CAAd;;AAEA,MAAI,CAAC,IAAD,GAAQ3E,IAAI,CAAC+E,EAAb,GAAkBF,KAAlB,IAA2BA,KAAK,GAAG,OAAO7E,IAAI,CAAC+E,EAAnD,EAAuD;AACrDN,IAAAA,KAAK,GAAG,CAACA,KAAT;AACD;;AAED,QAAMO,0BAA0B,GAAG,CAAnC;AACA,QAAMC,yBAAyB,GAAG,CAAlC;AACA,QAAMC,qBAAqB,GAAG,EAA9B;AACA,QAAMC,oBAAoB,GAAG,EAA7B;;AAEA,MAAInH,GAAG,CAACoH,SAAJ,KAAkBJ,0BAAtB,EAAkD;AAChDP,IAAAA,KAAK,IAAIS,qBAAqB,GAAGC,oBAAjC;AACD,GAFD,MAEO,IAAInH,GAAG,CAACoH,SAAJ,KAAkBH,yBAAtB,EAAiD;AACtDR,IAAAA,KAAK,IAAIU,oBAAT;AACD;;AAED,SAAOV,KAAP;AACD;;AAED,SAASvN,eAAT,CAAyB2N,KAAzB,EAAgC;AAC9B,SAAOQ,MAAM,CAACC,SAAP,CAAiBT,KAAjB,KAA2BA,KAAK,GAAG,EAAR,KAAe,CAAjD;AACD;;AAED,SAAS1N,iBAAT,CAA2BoO,IAA3B,EAAiC;AAC/B,SAAOF,MAAM,CAACC,SAAP,CAAiBC,IAAjB,KAA0BzO,MAAM,CAAC0O,MAAP,CAAc5M,UAAd,EAA0B2L,QAA1B,CAAmCgB,IAAnC,CAA1B,IAAsEA,IAAI,KAAK3M,UAAU,CAACc,OAAjG;AACD;;AAED,SAAStC,iBAAT,CAA2BmO,IAA3B,EAAiC;AAC/B,SAAOF,MAAM,CAACC,SAAP,CAAiBC,IAAjB,KAA0BzO,MAAM,CAAC0O,MAAP,CAAc7M,UAAd,EAA0B4L,QAA1B,CAAmCgB,IAAnC,CAA1B,IAAsEA,IAAI,KAAK5M,UAAU,CAACe,OAAjG;AACD;;AAED,SAASrC,qBAAT,CAA+BoO,IAA/B,EAAqC;AACnC,SAAOA,IAAI,CAAClE,KAAL,IAAckE,IAAI,CAACjE,MAA1B;AACD;;AAED,MAAMlJ,UAAU,GAAG;AACjBoN,EAAAA,KAAK,EAAE,OADU;AAEjBC,EAAAA,OAAO,EAAE;AAFQ,CAAnB;AAIA3O,OAAO,CAACsB,UAAR,GAAqBA,UAArB;;AAEA,SAASF,oBAAT,CAA8B;AAC5BwN,EAAAA,MAD4B;AAE5B9K,EAAAA,IAF4B;AAG5B+K,EAAAA,KAAK,GAAG;AAHoB,CAA9B,EAIG;AACD,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,QAAI,OAAOJ,MAAP,KAAkB,QAAlB,IAA8B,EAAE9K,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAA1B,CAA9B,IAAqE,EAAEuK,MAAM,CAACC,SAAP,CAAiBO,KAAjB,KAA2BA,KAAK,IAAI,CAAtC,CAAzE,EAAmH;AACjH,YAAM,IAAII,KAAJ,CAAU,4CAAV,CAAN;AACD;;AAED,aAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,UAAIP,MAAM,YAAYnN,QAAtB,EAAgC;AAC9BmN,QAAAA,MAAM,CAACQ,IAAP,CAAYtL,IAAZ,EAAkBuL,YAAlB;AACD,OAFD,MAEO;AACLT,QAAAA,MAAM,CAACU,mBAAP,CAA2BxL,IAA3B,EAAiCuL,YAAjC;AACD;;AAED,UAAIE,OAAJ,EAAa;AACXC,QAAAA,YAAY,CAACD,OAAD,CAAZ;AACD;;AAEDR,MAAAA,OAAO,CAACI,IAAD,CAAP;AACD;;AAED,UAAME,YAAY,GAAGH,OAAO,CAACO,IAAR,CAAa,IAAb,EAAmBnO,UAAU,CAACoN,KAA9B,CAArB;;AAEA,QAAIE,MAAM,YAAYnN,QAAtB,EAAgC;AAC9BmN,MAAAA,MAAM,CAACc,GAAP,CAAW5L,IAAX,EAAiBuL,YAAjB;AACD,KAFD,MAEO;AACLT,MAAAA,MAAM,CAAChH,gBAAP,CAAwB9D,IAAxB,EAA8BuL,YAA9B;AACD;;AAED,UAAMM,cAAc,GAAGT,OAAO,CAACO,IAAR,CAAa,IAAb,EAAmBnO,UAAU,CAACqN,OAA9B,CAAvB;AACA,UAAMY,OAAO,GAAGK,UAAU,CAACD,cAAD,EAAiBd,KAAjB,CAA1B;AACD,GA7BM,CAAP;AA8BD;;AAED,MAAMtN,gBAAgB,GAAG,IAAIuN,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACtDvK,EAAAA,MAAM,CAAC0C,qBAAP,CAA6B6H,OAA7B;AACD,CAFwB,CAAzB;AAGA/O,OAAO,CAACuB,gBAAR,GAA2BA,gBAA3B;;AAEA,SAASsO,gBAAT,CAA0BC,SAA1B,EAAqCnM,IAAI,GAAG,IAA5C,EAAkD;AAChD,QAAM,IAAIsL,KAAJ,CAAU,mCAAV,CAAN;AACD;;AAED,MAAMxN,QAAN,CAAe;AACbsO,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKC,UAAL,GAAkBnQ,MAAM,CAACmI,MAAP,CAAc,IAAd,CAAlB;AACD;;AAEDiI,EAAAA,EAAE,CAACJ,SAAD,EAAYK,QAAZ,EAAsB;AACtB,SAAKT,GAAL,CAASI,SAAT,EAAoBK,QAApB,EAA8B;AAC5BC,MAAAA,QAAQ,EAAE;AADkB,KAA9B;AAGD;;AAEDC,EAAAA,GAAG,CAACP,SAAD,EAAYK,QAAZ,EAAsB;AACvB,SAAKf,IAAL,CAAUU,SAAV,EAAqBK,QAArB,EAA+B;AAC7BC,MAAAA,QAAQ,EAAE;AADmB,KAA/B;AAGD;;AAEDE,EAAAA,QAAQ,CAACR,SAAD,EAAY;AAClB,UAAMS,cAAc,GAAG,KAAKN,UAAL,CAAgBH,SAAhB,CAAvB;;AAEA,QAAI,CAACS,cAAD,IAAmBA,cAAc,CAACnI,MAAf,KAA0B,CAAjD,EAAoD;AAClD;AACD;;AAED,UAAMzE,IAAI,GAAG6M,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAb;AACA,QAAIC,iBAAJ;AACAN,IAAAA,cAAc,CAACG,KAAf,CAAqB,CAArB,EAAwBI,OAAxB,CAAgC,UAAU;AACxCX,MAAAA,QADwC;AAExCC,MAAAA;AAFwC,KAAV,EAG7B;AACD,UAAIA,QAAJ,EAAc;AACZ,YAAI,CAACS,iBAAL,EAAwB;AACtBA,UAAAA,iBAAiB,GAAG,EAApB;AACD;;AAEDA,QAAAA,iBAAiB,CAAC1E,IAAlB,CAAuBgE,QAAvB;AACA;AACD;;AAEDA,MAAAA,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBpN,IAArB;AACD,KAdD;;AAgBA,QAAIkN,iBAAJ,EAAuB;AACrBA,MAAAA,iBAAiB,CAACC,OAAlB,CAA0B,UAAUX,QAAV,EAAoB;AAC5CA,QAAAA,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBpN,IAArB;AACD,OAFD;AAGAkN,MAAAA,iBAAiB,GAAG,IAApB;AACD;AACF;;AAEDnB,EAAAA,GAAG,CAACI,SAAD,EAAYK,QAAZ,EAAsBH,OAAO,GAAG,IAAhC,EAAsC;AACvC,QAAIO,cAAc,GAAG,KAAKN,UAAL,CAAgBH,SAAhB,CAArB;;AAEA,QAAI,CAACS,cAAL,EAAqB;AACnB,WAAKN,UAAL,CAAgBH,SAAhB,IAA6BS,cAAc,GAAG,EAA9C;AACD;;AAEDA,IAAAA,cAAc,CAACpE,IAAf,CAAoB;AAClBgE,MAAAA,QADkB;AAElBC,MAAAA,QAAQ,EAAE,CAACJ,OAAO,IAAIA,OAAO,CAACI,QAApB,MAAkC;AAF1B,KAApB;AAID;;AAEDhB,EAAAA,IAAI,CAACU,SAAD,EAAYK,QAAZ,EAAsBH,OAAO,GAAG,IAAhC,EAAsC;AACxC,UAAMO,cAAc,GAAG,KAAKN,UAAL,CAAgBH,SAAhB,CAAvB;;AAEA,QAAI,CAACS,cAAL,EAAqB;AACnB;AACD;;AAED,SAAK,IAAIrI,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGoI,cAAc,CAACnI,MAApC,EAA4CF,CAAC,GAAGC,EAAhD,EAAoDD,CAAC,EAArD,EAAyD;AACvD,UAAIqI,cAAc,CAACrI,CAAD,CAAd,CAAkBiI,QAAlB,KAA+BA,QAAnC,EAA6C;AAC3CI,QAAAA,cAAc,CAACS,MAAf,CAAsB9I,CAAtB,EAAyB,CAAzB;AACA;AACD;AACF;AACF;;AA5EY;;AAgFflI,OAAO,CAACyB,QAAR,GAAmBA,QAAnB;;AAEA,SAASnB,KAAT,CAAe2Q,CAAf,EAAkBC,GAAlB,EAAuBlF,GAAvB,EAA4B;AAC1B,SAAOhD,IAAI,CAACkI,GAAL,CAASlI,IAAI,CAACgD,GAAL,CAASiF,CAAT,EAAYC,GAAZ,CAAT,EAA2BlF,GAA3B,CAAP;AACD;;AAED,MAAMxK,WAAN,CAAkB;AAChBuO,EAAAA,WAAW,CAAC3D,EAAD,EAAK;AACd5B,IAAAA,MADc;AAEdD,IAAAA,KAFc;AAGd4G,IAAAA;AAHc,MAIZ,EAJO,EAIH;AACN,SAAK9F,OAAL,GAAe,IAAf;AACA,SAAKzB,GAAL,GAAWwH,QAAQ,CAACC,aAAT,CAAuBjF,EAAE,GAAG,YAA5B,CAAX;AACA,SAAKkF,GAAL,GAAW,KAAK1H,GAAL,CAAS2H,UAApB;AACA,SAAK/G,MAAL,GAAcA,MAAM,IAAI,GAAxB;AACA,SAAKD,KAAL,GAAaA,KAAK,IAAI,GAAtB;AACA,SAAK4G,KAAL,GAAaA,KAAK,IAAI,GAAtB;AACA,SAAKvH,GAAL,CAAS4H,KAAT,CAAehH,MAAf,GAAwB,KAAKA,MAAL,GAAc,KAAK2G,KAA3C;AACA,SAAKjF,OAAL,GAAe,CAAf;AACD;;AAEDuF,EAAAA,UAAU,GAAG;AACX,QAAI,KAAKC,cAAT,EAAyB;AACvB,WAAK9H,GAAL,CAAS+H,SAAT,CAAmBC,GAAnB,CAAuB,eAAvB;AACA,WAAKhI,GAAL,CAAS4H,KAAT,CAAejH,KAAf,GAAuB,KAAKA,KAAL,GAAa,KAAK4G,KAAzC;AACA;AACD;;AAED,SAAKvH,GAAL,CAAS+H,SAAT,CAAmBE,MAAnB,CAA0B,eAA1B;AACA,UAAMC,YAAY,GAAG,KAAKvH,KAAL,GAAa,KAAKwH,QAAlB,GAA6B,GAAlD;AACA,SAAKnI,GAAL,CAAS4H,KAAT,CAAejH,KAAf,GAAuBuH,YAAY,GAAG,KAAKX,KAA3C;AACD;;AAED,MAAIjF,OAAJ,GAAc;AACZ,WAAO,KAAK6F,QAAZ;AACD;;AAED,MAAI7F,OAAJ,CAAY8F,GAAZ,EAAiB;AACf,SAAKN,cAAL,GAAsBO,KAAK,CAACD,GAAD,CAA3B;AACA,SAAKD,QAAL,GAAgBzR,KAAK,CAAC0R,GAAD,EAAM,CAAN,EAAS,GAAT,CAArB;;AAEA,SAAKP,UAAL;AACD;;AAEDS,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACf,QAAI,CAACA,MAAL,EAAa;AACX;AACD;;AAED,UAAMC,SAAS,GAAGD,MAAM,CAACZ,UAAzB;AACA,UAAMc,cAAc,GAAGD,SAAS,CAACE,WAAV,GAAwBH,MAAM,CAACG,WAAtD;;AAEA,QAAID,cAAc,GAAG,CAArB,EAAwB;AACtB,WAAKf,GAAL,CAASE,KAAT,CAAejH,KAAf,GAAwB,eAAc8H,cAAe,KAArD;AACD;AACF;;AAEDE,EAAAA,IAAI,GAAG;AACL,QAAI,CAAC,KAAKlH,OAAV,EAAmB;AACjB;AACD;;AAED,SAAKA,OAAL,GAAe,KAAf;AACA,SAAKiG,GAAL,CAASK,SAAT,CAAmBC,GAAnB,CAAuB,QAAvB;AACAR,IAAAA,QAAQ,CAACoB,IAAT,CAAcb,SAAd,CAAwBE,MAAxB,CAA+B,mBAA/B;AACD;;AAEDY,EAAAA,IAAI,GAAG;AACL,QAAI,KAAKpH,OAAT,EAAkB;AAChB;AACD;;AAED,SAAKA,OAAL,GAAe,IAAf;AACA+F,IAAAA,QAAQ,CAACoB,IAAT,CAAcb,SAAd,CAAwBC,GAAxB,CAA4B,mBAA5B;AACA,SAAKN,GAAL,CAASK,SAAT,CAAmBE,MAAnB,CAA0B,QAA1B;AACD;;AAtEe;;AA0ElB7R,OAAO,CAACwB,WAAR,GAAsBA,WAAtB;;AAEA,SAASH,gBAAT,CAA0BqR,GAA1B,EAA+BhK,SAA/B,EAA0C;AACxC,QAAMiK,KAAK,GAAG,EAAd;AAAA,QACMC,GAAG,GAAGF,GAAG,CAACtK,MADhB;AAEA,MAAIyK,KAAK,GAAG,CAAZ;;AAEA,OAAK,IAAIC,IAAI,GAAG,CAAhB,EAAmBA,IAAI,GAAGF,GAA1B,EAA+B,EAAEE,IAAjC,EAAuC;AACrC,QAAIpK,SAAS,CAACgK,GAAG,CAACI,IAAD,CAAJ,CAAb,EAA0B;AACxBH,MAAAA,KAAK,CAACxG,IAAN,CAAWuG,GAAG,CAACI,IAAD,CAAd;AACD,KAFD,MAEO;AACLJ,MAAAA,GAAG,CAACG,KAAD,CAAH,GAAaH,GAAG,CAACI,IAAD,CAAhB;AACA,QAAED,KAAF;AACD;AACF;;AAED,OAAK,IAAIC,IAAI,GAAG,CAAhB,EAAmBD,KAAK,GAAGD,GAA3B,EAAgC,EAAEE,IAAF,EAAQ,EAAED,KAA1C,EAAiD;AAC/CH,IAAAA,GAAG,CAACG,KAAD,CAAH,GAAaF,KAAK,CAACG,IAAD,CAAlB;AACD;AACF","sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  throw new Error(\"Not implemented: dispatchDOMEvent\");\n}\n\nclass EventBus {\n  constructor(options) {\n    this._listeners = Object.create(null);\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}"]},"metadata":{},"sourceType":"script"}