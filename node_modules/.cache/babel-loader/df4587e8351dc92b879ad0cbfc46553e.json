{"ast":null,"code":"var _jsxFileName = \"/Users/macos/Desktop/EOfficeWeb/src/components/AdminLogin/AdminLogin.js\",\n    _s = $RefreshSig$();\n\nimport logo from \"./../../images/logo.png\";\nimport \"./../../css/AdminLogin.css\";\nimport React, { useState } from \"react\";\nimport { setUserSession } from \"../../utils/Common\";\nimport { Container, Form, FormGroup } from \"reactstrap\";\nimport loginAPI from \"../../api/loginAPI\";\nimport md5 from \"md5\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Button, Snackbar, TextField } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminLogin() {\n  _s();\n\n  const history = useHistory();\n  const [adminLogin, setAdminLogin] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [submit, setSubmit] = useState(false);\n\n  function handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setAdminLogin({ ...adminLogin,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const md5pass = md5(adminLogin.password);\n    const params = {\n      username: adminLogin.username,\n      password: md5pass.trim().toString()\n    };\n    loginAPI.loginAdmin(params).then(function (res) {\n      setUserSession(res.data.token, res.data);\n\n      if (res.data.Role === '3') {\n        history.push(\"/admin-manager\");\n      } else {\n        history.push(\"/error\");\n      }\n    }).catch(function (error) {\n      setSubmit(true);\n      setTimeout(() => {\n        setSubmit(false);\n      }, 3000);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"a\",\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      open: submit,\n      autoHideDuration: 3000,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"filled\",\n        severity: \"error\",\n        children: \"Invalid username or password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      className: \"form-admin\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          type: \"email\",\n          name: \"username\",\n          required: true,\n          onChange: handleChange,\n          placeholder: \"Email\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          onChange: handleChange,\n          placeholder: \"Password\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          type: \"submit\",\n          color: \"primary\",\n          size: \"large\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AdminLogin, \"bA0ROKmq01To8ZnII/cBn23EdJc=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminLogin;\nexport default AdminLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"sources":["/Users/macos/Desktop/EOfficeWeb/src/components/AdminLogin/AdminLogin.js"],"names":["logo","React","useState","setUserSession","Container","Form","FormGroup","loginAPI","md5","Alert","Button","Snackbar","TextField","useHistory","AdminLogin","history","adminLogin","setAdminLogin","username","password","submit","setSubmit","handleChange","event","target","name","value","handleSubmit","e","preventDefault","md5pass","params","trim","toString","loginAdmin","then","res","data","token","Role","push","catch","error","setTimeout","vertical","horizontal"],"mappings":"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","sourcesContent":["import logo from \"./../../images/logo.png\";\nimport \"./../../css/AdminLogin.css\";\nimport React, { useState } from \"react\";\nimport { setUserSession } from \"../../utils/Common\";\nimport { Container, Form, FormGroup } from \"reactstrap\";\nimport loginAPI from \"../../api/loginAPI\";\nimport md5 from \"md5\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { Button, Snackbar, TextField } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\n\nfunction AdminLogin() {\n  const history = useHistory();\n  const [adminLogin, setAdminLogin] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [submit, setSubmit] = useState(false);\n\n  function handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setAdminLogin({\n      ...adminLogin,\n      [name]: value,\n    });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    const md5pass = md5(adminLogin.password);\n    const params = {\n      username: adminLogin.username,\n      password: md5pass.trim().toString(),\n    };\n\n    loginAPI\n      .loginAdmin(params)\n      .then(function (res) {\n        setUserSession(res.data.token, res.data);\n        if(res.data.Role==='3'){\n          history.push(\"/admin-manager\");\n        }else{\n          history.push(\"/error\")\n        }\n      })\n      .catch(function (error) {\n        setSubmit(true);\n        setTimeout(() => {\n          setSubmit(false);\n        }, 3000);\n      });\n  }\n\n  return (\n    <Container fluid={true} className=\"a\">\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={submit}\n        autoHideDuration={3000}\n      >\n        <Alert variant=\"filled\" severity=\"error\">\n          Invalid username or password\n        </Alert>\n      </Snackbar>\n      <Form className=\"form-admin\" onSubmit={handleSubmit}>\n        <FormGroup>\n          <img src={logo} alt=\"\" />\n        </FormGroup>\n        <FormGroup>\n          <TextField\n            fullWidth\n            type=\"email\"\n            name=\"username\"\n            required\n            onChange={handleChange}\n            placeholder=\"Email\"\n            variant=\"outlined\"\n          />\n        </FormGroup>\n        <FormGroup>\n          <TextField\n            fullWidth\n            type=\"password\"\n            name=\"password\"\n            required\n            onChange={handleChange}\n            placeholder=\"Password\"\n            variant=\"outlined\"\n          />\n        </FormGroup>\n        <FormGroup>\n          <Button fullWidth variant=\"contained\" type=\"submit\" color=\"primary\" size=\"large\">\n            Login\n          </Button>\n        </FormGroup>\n      </Form>\n    </Container>\n  );\n}\n\nexport default AdminLogin;\n"]},"metadata":{},"sourceType":"module"}